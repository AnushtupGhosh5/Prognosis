@import "tailwindcss";

/*
  Theme system using CSS variables + Tailwind v4 tokens
  - Default: Dark theme
  - Light theme: set data-theme="light" on <html>
*/

:root {
  /* Dark (default) */
  --bg: #0f172a;            /* slate-900 */
  --surface: #111827;       /* gray-900 */
  --elevated: #1f2937;      /* gray-800 */
  --muted: #374151;         /* gray-700 */
  --border: #334155;        /* slate-700 */
  --foreground: #e5e7eb;    /* gray-200 */
  --muted-foreground: #9ca3af; /* gray-400 */

  --medical: #22c3ee;       /* accent/cyan */
  --medical-dark: #1aa0c4;  /* darker cyan */
  --medical-light: #083344;  /* cyan-950 for subtle tints */
  --success: #16a34a;
  --warning: #f59e0b;
  --error: #ef4444;

  /* Effects */
  --grid: rgba(148, 163, 184, 0.12); /* slate-400 @ 12% for dark grid */
  --glow1: rgba(34, 195, 238, 0.12); /* cyan glow */
  --glow2: rgba(2, 132, 199, 0.10);  /* blue glow */
}

:root[data-theme='light'] {
  /* Light */
  --bg: #f7f7fb;            /* off-white */
  --surface: #ffffff;        /* paper */
  --elevated: #f9fafb;       /* subtle contrast against surface */
  --muted: #f3f4f6;          /* gray-100 */
  --border: #e5e7eb;         /* gray-200 */
  --foreground: #0f172a;     /* slate-900 */
  --muted-foreground: #4b5563; /* gray-600 */

  --medical: #0ea5e9;        /* blue/cyan */
  --medical-dark: #0284c7;
  --medical-light: #e0f2fe;  /* sky-100 */
  --success: #16a34a;
  --warning: #d97706;
  --error: #dc2626;

  /* Effects */
  --grid: rgba(2, 6, 23, 0.06);     /* slate-950 @ 6% for light grid */
  --glow1: rgba(14, 165, 233, 0.10); /* slightly softer glow for light */
  --glow2: rgba(2, 132, 199, 0.08);
}

@theme inline {
  /* Semantic colors */
  --color-bg: var(--bg);
  --color-surface: var(--surface);
  --color-elevated: var(--elevated);
  --color-muted: var(--muted);
  --color-border: var(--border);
  --color-foreground: var(--foreground);
  --color-muted-foreground: var(--muted-foreground);

  /* Accents */
  --color-medical: var(--medical);
  --color-medical-dark: var(--medical-dark);
  --color-medical-light: var(--medical-light);
  --color-success: var(--success);
  --color-warning: var(--warning);
  --color-error: var(--error);
}

body {
  background: var(--bg);
  color: var(--foreground);
  font-family: 'Inter', system-ui, sans-serif;
  min-height: 100vh;
}

/* App chrome with ambient AI glow + subtle grid */
.ai-bg {
  position: relative;
  min-height: 100vh;
  background:
    radial-gradient(1200px 600px at 10% -10%, var(--glow1), transparent 60%),
    radial-gradient(800px 400px at 90% 0%, var(--glow2), transparent 60%),
    linear-gradient(180deg, var(--bg), var(--surface) 60%);
}

.ai-bg::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(to right, var(--grid) 1px, transparent 1px),
    linear-gradient(to bottom, var(--grid) 1px, transparent 1px);
  background-size: 40px 40px, 40px 40px;
  mask-image: radial-gradient(1200px 600px at 50% -20%, black 40%, transparent 70%);
  pointer-events: none;
}

/* Utility abstractions */
.btn-primary {
  @apply bg-medical hover:bg-medical-dark text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 shadow-sm;
}

.btn-secondary {
  @apply bg-muted hover:bg-elevated text-foreground/90 font-medium py-2 px-4 rounded-lg transition-colors duration-200 border border-border;
}

.card {
  @apply bg-surface rounded-xl shadow-lg p-6 border border-border;
}

.input {
  @apply w-full px-3 py-2 rounded-lg border border-border bg-transparent text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-medical/50 focus:border-medical;
}

/* Tailwind v4: custom keyframes and utility for neon gradient card */
@keyframes background-position-spin {
  0% {
    background-position: top center;
  }
  100% {
    background-position: bottom center;
  }
}

.animate-background-position-spin {
  animation: background-position-spin 3000ms infinite alternate;
}

/* Floating up-down animation (hidden on mobile via utilities) */
@keyframes float-y {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

.animate-float-y {
  animation: float-y 4s ease-in-out infinite;
}

/* Conic gradient rotation for neon border */
@property --angle {
  syntax: '<angle>';
  inherits: false;
  initial-value: 0deg;
}

@keyframes rotate-angle {
  0% { --angle: 0deg; }
  100% { --angle: 360deg; }
}

.animate-conic-rotate {
  animation: rotate-angle 6s linear infinite;
  animation-direction: normal; /* clockwise */
}

/* Slow clockwise spin using transform (fallback if angle-var unsupported) */
@keyframes spin-clockwise {
  to { transform: rotate(360deg); }
}

.animate-spin-slow {
  animation: spin-clockwise 6s linear infinite;
}
